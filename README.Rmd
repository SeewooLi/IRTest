---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# IRTest

<!-- badges: start -->
[![R-CMD-check](https://github.com/SeewooLi/IRTest/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/SeewooLi/IRTest/actions/workflows/R-CMD-check.yaml)
[![CRAN status](https://www.r-pkg.org/badges/version/IRTest)](https://CRAN.R-project.org/package=IRTest)
<!-- badges: end -->

**IRTest** can be a useful tool for IRT (item response theory) parameter estimation, especially when the violation of normality assumption on latent distribution is suspicious. \
**IRTest** deals with uni-dimensional latent variable. \
In **IRTest**, along with the conventional approach that assumes normality on latent distribution, several methods can be applied for estimation of latent distribution: empirical histogram method, two-component Gaussian mixture distribution, Davidian curve, kernel density estimation.

## Installation

You can install IRTest on R-console with:

``` r
install.packages("IRTest")
```

## Example

A simulation study for a Rasch model can be done in following manners:

```{r library}
library(IRTest)
```

* An artificial data of 500 examinees and 10 items.

```{r generation}
Alldata <- DataGeneration(seed = 123456789,
                          model_D = rep(1, 10),
                          N=500,
                          nitem_D = 10,
                          nitem_P = 0,
                          d = 1.664,
                          sd_ratio = 2,
                          prob = 0.3)

data <- Alldata$data_D
item <- Alldata$item_D
initialitem <- Alldata$initialitem_D
theta <- Alldata$theta
```

* Analysis 

For an illustrative purpose, empirical histogram method is used for estimation of latent distribution.

```{r analysis, results='hold'}
Mod1 <- IRTest_Dich(initialitem = initialitem,
                    data = data,
                    model = rep(1, 10),
                    latent_dist = "EHM",
                    max_iter = 200,
                    threshold = .0001)
```

* Parameter estimation results

```{r results, fig.align='center', fig.height=2.5, fig.width=6}
### True item parameters 
item

### Estimated item parameters
Mod1$par_est

### Plotting
plot(item[,2], Mod1$par_est[,2])
abline(a=0,b=1)
```

* Latent distribution estimation result

```{r plotLD, fig.align='center', fig.height=2.5, fig.width=6}
plot_LD(Mod1)
```
